import{_ as n,p as a,q as s,a1 as t}from"./framework-96b046e1.js";const e={},p=t(`<h1 id="_46-state修改" tabindex="-1"><a class="header-anchor" href="#_46-state修改" aria-hidden="true">#</a> 46 state修改</h1><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ageStore<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 通过 actions 方法修改</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ageStore<span class="token punctuation">.</span>age <span class="token operator">++</span> <span class="token comment">// 在vue页面中，直接修改，也ok</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ageStore<span class="token punctuation">.</span><span class="token function">$patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zsf&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 批量修改，推荐，底层有优化</span>

<span class="token comment">// 如果store中有数组</span>
ageStore<span class="token punctuation">.</span><span class="token function">$patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>ageStore<span class="token punctuation">.</span>arr<span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 新增元素 4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 上面的修改数组太麻烦，还有更好的，顶级方案</span>
ageStore<span class="token punctuation">.</span><span class="token function">$patch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">40</span>
    state<span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 强烈推荐的方式</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对于修改逻辑较为复杂的情况，建议使用方式：通过 action 方法修改。</p><p>官网：</p><p>替换state</p><p>订阅state</p><p>重置state 见官网</p>`,10),c=[p];function o(l,i){return a(),s("div",null,c)}const u=n(e,[["render",o],["__file","46state修改.html.vue"]]);export{u as default};
