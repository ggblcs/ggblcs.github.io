import{_ as e,p as s,q as a,a1 as n}from"./framework-96b046e1.js";const o={},p=n(`<h1 id="_39-corejs" tabindex="-1"><a class="header-anchor" href="#_39-corejs" aria-hidden="true">#</a> 39 coreJS</h1><p>过去使用<code>@babel/preset-env</code> 智能预设处理js 兼容性问题，但如果是async函数，promise对象数组的一些方法，它没法处理。</p><p>目标：彻底解决浏览器兼容问题。</p><p><code>core.js</code>是专门用来做ES6 以及以上API的polyfill （补丁）</p><hr><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> corejs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>main.js</code> 全部引入<code>import &quot;core-js&quot;</code></p><p>手动按需引入 <code>import &quot;core-js/es/promise&quot;</code> (里面有promise的自定义实现)</p><p>打包就ok了。</p><hr><p>eslint 报错新语法修改<code>.eslintrc</code></p><p>新增 <code>parser:&quot;@babel/eslint-parser&quot;</code> （支持最终ECMAScript标准）</p><hr><p>全部引入<code>core-js</code> 包太大，手动按需引入太麻烦，让babel 来帮你自动引入。</p><p>配置<code>babel.config.js</code>，数组第二个参数是配置项，配置自动引入，corejs版本为3.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在main.js中不需再引入 core.js</p><p>未测试：心累</p>`,18),t=[p];function c(r,l){return s(),a("div",null,t)}const d=e(o,[["render",c],["__file","39coreJS.html.vue"]]);export{d as default};
