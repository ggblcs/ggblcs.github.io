import{_ as n,p as a,q as s,a1 as t}from"./framework-96b046e1.js";const e={},i=t(`<h1 id="_02-列表加载和加载更多优化" tabindex="-1"><a class="header-anchor" href="#_02-列表加载和加载更多优化" aria-hidden="true">#</a> 02 列表加载和加载更多优化</h1><h2 id="_1-列表等待优化" tabindex="-1"><a class="header-anchor" href="#_1-列表等待优化" aria-hidden="true">#</a> 1 列表等待优化</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>请求数据时，调用全局<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">(</span>实际：uni<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;正在加载&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

请求完毕时，调用全局<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">，并且给total赋值。</span>
    <span class="token punctuation">(</span>实际：uni<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-列表显示优化" tabindex="-1"><a class="header-anchor" href="#_2-列表显示优化" aria-hidden="true">#</a> 2 列表显示优化</h2><p>scroll-view中应该包含</p><ol><li>有数据时显示列表（不做判断）</li><li>无数据时显示空数据（判断length）</li><li>数据条数&gt;=10时，显示加载更多，正在加载，暂无更多（判断length，status给状态）</li></ol><h2 id="_3-下拉加载更多" tabindex="-1"><a class="header-anchor" href="#_3-下拉加载更多" aria-hidden="true">#</a> 3 下拉加载更多</h2><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scroll-view</span> <span class="token attr-name">scroll-y</span> <span class="token attr-name">@scrolltolower</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
1. 判断 total &lt;= data.list 时显示status没有更多。
2. 否则pageSize加10， status设置为加载中，开始请求数据。
注：status为列表底部小字。</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8),p=[i];function c(l,o){return a(),s("div",null,p)}const d=n(e,[["render",c],["__file","02列表加载和加载更多优化.html.vue"]]);export{d as default};
