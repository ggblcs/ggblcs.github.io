import{_ as e,p as s,q as n,a1 as o}from"./framework-96b046e1.js";const a={},t=o(`<h1 id="_15-eslint与editorconfig" tabindex="-1"><a class="header-anchor" href="#_15-eslint与editorconfig" aria-hidden="true">#</a> 15 ESlint与editorconfig</h1><p>ESlint的配置文件是<code>.eslintrc.js</code>，而<code>.editorconfig</code>是统一编辑器（vscode，webstrom）的代码风格的文件，这两者本身不相关，只是作用类似。</p><hr><blockquote><p>首先介绍webstrom环境下，</p></blockquote><blockquote><p>配置<code>.editorconfig</code>后，比如新配置了一个缩进必须3字符，必须重启webstrom才会生效。</p><p>如果你的代码没有缩进3字符也并不会报错或者有什么警告提示。</p><p>但是，当你在webstrom中创建一个函数后，按下回车，会自动缩进3字符。这就是<code>.editconfig</code>的作用。</p></blockquote><blockquote><p>配置<code>.eslintrc.js</code>后，比如配置了一个缩进必须3字符，不需要重启webstrom就可以生效，</p><p>如果你的代码没有缩进3字符会报错提示，代码上会出现红色波浪线，配置文件可以设置发现不合法是警告还是报错，就是说可以设置级别。</p><p>如果写一个函数，按下回车，不会自动为你缩进3字符，但是会出现错误警告，你可以右击进行修复。</p></blockquote><hr><hr><blockquote><p>再介绍下vscode环境。</p></blockquote><blockquote><p>配置<code>.editorconfig</code>文件，这个文件虽然是针对编辑器的，但是vscod并不会按照这个配置文件上的来，还是会按照vscode自带的默认的配置来。</p><p>为了解决这个问题，需要安装一个插件<code>editorconfig for vscode</code>。</p><p>这样默认按下回车会按照这个文件来缩进，</p><p>并且右键格式化<kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>L</kbd>文档也会按照这个文件来格式化，这点与webstrom不太相同，webstrom右键是eslint修复。</p><p>但是如果你不按要求缩进，非得缩进15字符，也不会报错，不会有错误提示。这些基本与webstrom一样。</p><p>如果你修改了<code>.editorconfig</code>文件，不需要重启vscode可以直接生效，这点与webstrom也不太相同。</p></blockquote><blockquote><p>配置<code>.eslintrc.js</code>，也是要配置插件的。否则在vscode上什么都不会发生。安装名为<code>eslint</code>的插件，vscode看到不符合eslint的会报错。</p><p>安装好插件后，首选项中才会搜到关于eslint的设置，<code>eslint enable</code>打勾，表示启用eslint。启用后就可以看到不符合eslint的就开始报错了，红色下波浪线。</p><p>修复：在首选项中，通过<code>setting.json</code>设置下面的配置，作用是保存时自动运行eslint修复，把你的代码报错修复好。由于我开启了自动保存，<kbd>ctrl + S</kbd>就不是保存快捷键了，需要从文件选项中，点击保存。点击保存就能看到运行了修复。</p><p>如果想要修复错误，就得一个一个的按提示修复，非常麻烦。</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 首选项中 setting.json eslint配置，保存时自动运行lint修复</span>
<span class="token string-property property">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;source.fixAll.eslint&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>题外话【关于测试eslint和editorconfig效果】</p><p>测试可以选择js文件，比如vue中自带的main.js，这样可以避免很多麻烦。</p><p>在<code>.eslintrc.js</code>中的rules中增加配置，作用是首行缩进5字符。修改数字5即可。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">indent</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>
<span class="token string-property property">&#39;vue/script-indent&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>
  <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">baseIndent</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在<code>.editorconfig</code>中写入一句配置，作用是首行缩进2字符。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>indent_size <span class="token operator">=</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,19),c=[t];function i(p,r){return s(),n("div",null,c)}const l=e(a,[["render",i],["__file","15ESlint与editorconfig.html.vue"]]);export{l as default};
