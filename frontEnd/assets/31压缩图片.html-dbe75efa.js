import{_ as n,p as s,q as a,a1 as e}from"./framework-96b046e1.js";const i={},p=e(`<h1 id="_31-压缩图片" tabindex="-1"><a class="header-anchor" href="#_31-压缩图片" aria-hidden="true">#</a> 31 压缩图片</h1><ul><li><p>每次打包都压缩并不好，速度慢。建议提前压缩好后，这里只是说明一种解决方案。</p></li><li><p>本地项目目录下的图片才会压缩，在线链接不会。</p></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> image-minimizer-webpack-plugin imagemin <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>无损压缩还需要（模式一）</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm install imagemin-gifsicle -D
npm install imagemin-jpegtran -D
npm install imagemin-optipng -D
npm install imagemin-svgo -D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>有损压缩还需要（模式二）</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>npm install imagemin-gifsicle -D
npm install imagemin-mozjpeg -D
npm install imagemin-pngquant -D
npm install imagemin-svgo -D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以无损压缩为例：引入插件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;image-minimizer-webpack-plugin&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 既可以放在plugin 中，也可以放在optmization</span>
<span class="token literal-property property">optmization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">CssMinizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 压缩css</span>
        <span class="token keyword">new</span> <span class="token class-name">TerserWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">parallel</span><span class="token operator">:</span> threads <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 多线程压缩js</span>
        <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 配置极多，建议复制 <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>难点是下载插件，容易下载不下来。</p>`,10),t=[p];function l(c,o){return s(),a("div",null,t)}const u=n(i,[["render",l],["__file","31压缩图片.html.vue"]]);export{u as default};
